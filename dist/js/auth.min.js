!function a(o,i,u){function c(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var s=i[t]={exports:{}};o[t][0].call(s.exports,function(e){return c(o[t][1][e]||e)},s,s.exports,a,o,i,u)}return i[t].exports}for(var d="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";document.addEventListener("DOMContentLoaded",function(e){var t=document.getElementById("nsp-show-auth-form"),n=document.getElementById("nsp-auth-container"),r=document.getElementById("nsp-auth-close"),a=document.getElementById("nsp-auth-form"),o=a.querySelector('[data-message="status"]');function i(){o.innerHTML="",o.classList.remove("success","error"),a.querySelector('[name="submit"]').value="Login",a.querySelector('[name="submit"]').disabled=!1}t.addEventListener("click",function(){n.classList.add("show"),t.parentElement.classList.add("hide")}),r.addEventListener("click",function(){n.classList.remove("show"),t.parentElement.classList.remove("hide")}),a.addEventListener("submit",function(e){console.log("submit"),e.preventDefault(),i();var t=a.querySelector('[name="username"]').value,n=a.querySelector('[name="password"]').value;a.querySelector('[name="nsp_auth"]').value;if(!t||!n)return o.innerHTML="Missing Datas",void o.classList.add("error");var r=a.dataset.url,s=new URLSearchParams(new FormData(a));a.querySelector('[name="submit"]').value="Logging in ...",a.querySelector('[name="submit"]').disabled=!0,fetch(r,{method:"POST",body:s}).then(function(e){return e.json()}).catch(function(e){i()}).then(function(e){if(i(),0==e||!e.status)return o.innerHTML=e.message,void o.classList.add("error");o.innerHTML=e.message,o.classList.add("success"),a.reset(),window.location.reload()})})})},{}]},{},[1]);
//# sourceMappingURL=auth.min.js.map
